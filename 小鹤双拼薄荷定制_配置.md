# 🧠 小鹤双拼 · 薄荷定制版配置说明备忘录

---

## 📌 1. 基本信息（schema 标头）

```yaml
schema:
  schema_id: double_pinyin_flypy
  name: "小鹤双拼-薄荷定制"
  version: "24.10.02"
```

- 定义方案 ID、名称和版本。
- `schema_id` 是这个方案在 `Rime` 内部的唯一识别名，对应 `.schema.yaml` 文件名。

---

## 📦 2. dependencies：模块/词库依赖

```yaml
dependencies:
  - radical_pinyin_flypy
  - wubi98_mint
  - stroke
  - melt_eng
  - sogouw
```

这些依赖的 `.dict.yaml` 或 `.yaml` 文件必须存在于用户目录中。

需要首先在此模块中添加之后,才可以在translators中声明

```
translators:
  - table_translator@词库名称
```

---

## 🧲 3. switches：状态开关切换项

```yaml
switches:
  - name: ascii_punct         # 切换中英文符号
  - name: emoji_suggestion    # 汉字调用emoji开关
  - name: full_shape          # 切换半角全角英文
  - name: transcription       # 切换简体繁体
  - name: chaifen             # 是否开关拆字提示
```

配合设定好的快捷键 [ctrl+`] 使用，可切换对应模块状态，`reset=0/1` 决定是否默认选中状态。

---

## 🧠 4. engine：处理器模块

```yaml
engine:
  processors: [...]
  segmentors: [...]
  translators: [...]
  filters: [...]
```

这是 Rime 输入处理的四个核心阶段：

| 名称       | 作用                    |
|------------|-------------------------|
| processors | 处理按键、模式、限长等 |
| segmentors | 拆分输入片段            |
| translators| 翻译拼音→候选词         |
| filters    | 后处理候选，如纠错、去重 |

启用了多个 Lua 插件与辅助功能

---

## ✨ 5. translators：翻译器列表（拼音转词）

```yaml
translators:
  - punct_translator
  - script_translator
  - lua_translator@*...
  - table_translator@melt_eng
  - table_translator@cn_en
  - table_translator@sogouw
```

这些按顺序工作，将拼音编码翻译为候选词，包括英文、emoji、计算器等。

---

## 🧹 6. filters：候选项后处理模块

```yaml
filters:
  - corrector_filter
  - autocap_filter
  - simplifier@transcription_cc
  - auxCode_filter@flypy_full
  - reduce_english_filter
  - uniquifier
```

---

## 🔁 7. transcription_cc：简繁转换定义

```yaml
transcription_cc:
  opencc_config: s2t.json
  tips: none
```

控制输入简体转繁体的行为，不转换反查内容。

---

## 😀 8. emoji_suggestion：emoji 转换规则

```yaml
emoji_suggestion:
  opencc_config: emoji.json
```

输入中文如“笑”“火”可触发表情联想。

---

## 🔤 9. translator 字典设置（核心主词库）

```yaml
translator:
  dictionary: rime_mint
  prism: double_pinyin_flypy
  spelling_hints: 8
  always_show_comments: true
  comment_format: [...]
  preedit_format: [...]
```

---

## 🅰️ 10. melt_eng / cn_en：英文词库配置

```yaml
melt_eng:
  dictionary: melt_eng
  initial_quality: 0.8
```

关闭英文造句，仅做英文词补全，`cn_en` 为中英文混输。

---

## 🔠 11. speller：拼写处理器（简拼、模糊音）

包含 `algebra` 与 `xlit` 映射，是小鹤音节结构的核心。

---

## 🀄 12. wubi / stroke / radical：附加输入模式

支持五笔、笔画、偏旁反查：
- 输入 `Uw...` → 五笔；
- 输入 `Ui...` → 笔画；
- 输入 `Uu...` → 偏旁拼音。

---

## 🧮 13. punctuator：标点配置

```yaml
punctuator:
  half_shape:
    "/": ["、","÷","/",]
```

自定义 `/` 显示中文顿号优先，保留除号和斜杠，贴近中文用户习惯。

---

## 🔍 14. recognizer：正则匹配触发器

允许输入 `R123.45` 显示人民币读法，或 `=1+2*3` 调用计算器。

---

## ⌨️ 15. key_binder：快捷键绑定

```yaml
- Control+Shift+E → 切换 emoji 模式  
- Control+Shift+1 → 切换简繁  
- Control+Shift+C → 切换拆字
```

支持类似 Emacs 的快捷行为。

---

## 📜 16. menu：

```yaml
menu:
  page_size: 4
```

控制候选项数量（每页显示 4 个候选词）。